<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>controler\tool.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/painter.controler.Canvas.html">painter.controler.Canvas</a></li>
            
                <li><a href="../classes/painter.controler.Index.html">painter.controler.Index</a></li>
            
                <li><a href="../classes/painter.controler.Nav.html">painter.controler.Nav</a></li>
            
                <li><a href="../classes/painter.controler.Tool.html">painter.controler.Tool</a></li>
            
                <li><a href="../classes/painter.controler.Tool.prototype.html">painter.controler.Tool.prototype</a></li>
            
                <li><a href="../classes/painter.model.CanvasContainerModel.html">painter.model.CanvasContainerModel</a></li>
            
                <li><a href="../classes/painter.model.CanvasModel.html">painter.model.CanvasModel</a></li>
            
                <li><a href="../classes/painter.model.CanvasModel.prototype.html">painter.model.CanvasModel.prototype</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Cross.html">painter.model.mouseModel.Cross</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Cross.prototype.html">painter.model.mouseModel.Cross.prototype</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Eraser.html">painter.model.mouseModel.Eraser</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Eraser.prototype.html">painter.model.mouseModel.Eraser.prototype</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.EyeDropper.html">painter.model.mouseModel.EyeDropper</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.EyeDropper.prototype.html">painter.model.mouseModel.EyeDropper.prototype</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.FloodFill.html">painter.model.mouseModel.FloodFill</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.FloodFill.prototype.html">painter.model.mouseModel.FloodFill.prototype</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Mouse.html">painter.model.mouseModel.Mouse</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Mouse.prototype.html">painter.model.mouseModel.Mouse.prototype</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Pen.html">painter.model.mouseModel.Pen</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Pen.prototype.html">painter.model.mouseModel.Pen.prototype</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Text.html">painter.model.mouseModel.Text</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Text.prototype.html">painter.model.mouseModel.Text.prototype</a></li>
            
                <li><a href="../classes/painter.model.PointList.html">painter.model.PointList</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Circle.html">painter.model.shapeModel.Circle</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Circle.prototype.html">painter.model.shapeModel.Circle.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.CircleStroke.html">painter.model.shapeModel.CircleStroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.CircleStroke.prototype.html">painter.model.shapeModel.CircleStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Cross.html">painter.model.shapeModel.Cross</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Cross.prototype.html">painter.model.shapeModel.Cross.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.CurveClosed.html">painter.model.shapeModel.CurveClosed</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.CurveClosed.prototype.html">painter.model.shapeModel.CurveClosed.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.CurveClosedStroke.html">painter.model.shapeModel.CurveClosedStroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.CurveClosedStroke.prototype.html">painter.model.shapeModel.CurveClosedStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Ellipes.html">painter.model.shapeModel.Ellipes</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Ellipes.prototype.html">painter.model.shapeModel.Ellipes.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.EllipesStroke.html">painter.model.shapeModel.EllipesStroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.EllipesStroke.prototype.html">painter.model.shapeModel.EllipesStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Eraser.html">painter.model.shapeModel.Eraser</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Eraser.prototype.html">painter.model.shapeModel.Eraser.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.EyeDropper.html">painter.model.shapeModel.EyeDropper</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.EyeDropper.prototype.html">painter.model.shapeModel.EyeDropper.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.FillStroke.html">painter.model.shapeModel.FillStroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.FillStroke.prototype.html">painter.model.shapeModel.FillStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.FloodFill.html">painter.model.shapeModel.FloodFill</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.FloodFill.prototype.html">painter.model.shapeModel.FloodFill.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.ImageShape.html">painter.model.shapeModel.ImageShape</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.ImageShape.prototype.html">painter.model.shapeModel.ImageShape.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Line.html">painter.model.shapeModel.Line</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Line.prototype.html">painter.model.shapeModel.Line.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Pen.html">painter.model.shapeModel.Pen</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Pen.prototype.html">painter.model.shapeModel.Pen.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Rect.html">painter.model.shapeModel.Rect</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Rect.prototype.html">painter.model.shapeModel.Rect.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.RectRound.html">painter.model.shapeModel.RectRound</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.RectRound.prototype.html">painter.model.shapeModel.RectRound.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.RectRoundStroke.html">painter.model.shapeModel.RectRoundStroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.RectRoundStroke.prototype.html">painter.model.shapeModel.RectRoundStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.RectStroke.html">painter.model.shapeModel.RectStroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.RectStroke.prototype.html">painter.model.shapeModel.RectStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Shape.html">painter.model.shapeModel.Shape</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Shape.prototype.html">painter.model.shapeModel.Shape.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Stroke.html">painter.model.shapeModel.Stroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Stroke.prototype.html">painter.model.shapeModel.Stroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Text.html">painter.model.shapeModel.Text</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Text.prototype.html">painter.model.shapeModel.Text.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.TextStroke.html">painter.model.shapeModel.TextStroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.TextStroke.prototype.html">painter.model.shapeModel.TextStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.StorageModel.html">painter.model.StorageModel</a></li>
            
                <li><a href="../classes/painter.model.StorageModel.prototype.html">painter.model.StorageModel.prototype</a></li>
            
                <li><a href="../classes/painter.model.ToolContainerModel.html">painter.model.ToolContainerModel</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Circle.html">painter.model.toolModel.Circle</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Circle.prototype.html">painter.model.toolModel.Circle.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.CircleStroke.html">painter.model.toolModel.CircleStroke</a></li>
            
                <li><a href="../classes/painter.model.toolModel.CircleStroke.prototype.html">painter.model.toolModel.CircleStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Cross.html">painter.model.toolModel.Cross</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Cross.prototype.html">painter.model.toolModel.Cross.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.CurveClosed.html">painter.model.toolModel.CurveClosed</a></li>
            
                <li><a href="../classes/painter.model.toolModel.CurveClosed.prototype.html">painter.model.toolModel.CurveClosed.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.CurveClosedStroke.html">painter.model.toolModel.CurveClosedStroke</a></li>
            
                <li><a href="../classes/painter.model.toolModel.CurveClosedStroke.prototype.html">painter.model.toolModel.CurveClosedStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Ellipes.html">painter.model.toolModel.Ellipes</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Ellipes.prototype.html">painter.model.toolModel.Ellipes.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.EllipesStroke.html">painter.model.toolModel.EllipesStroke</a></li>
            
                <li><a href="../classes/painter.model.toolModel.EllipesStroke.prototype.html">painter.model.toolModel.EllipesStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Eraser.html">painter.model.toolModel.Eraser</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Eraser.prototype.html">painter.model.toolModel.Eraser.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.EyeDropper.html">painter.model.toolModel.EyeDropper</a></li>
            
                <li><a href="../classes/painter.model.toolModel.FloodFill.html">painter.model.toolModel.FloodFill</a></li>
            
                <li><a href="../classes/painter.model.toolModel.FloodFill.prototype.html">painter.model.toolModel.FloodFill.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Line.html">painter.model.toolModel.Line</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Line.prototype.html">painter.model.toolModel.Line.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Pen.html">painter.model.toolModel.Pen</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Pen.prototype.html">painter.model.toolModel.Pen.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Rect.html">painter.model.toolModel.Rect</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Rect.prototype.html">painter.model.toolModel.Rect.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.RectRound.html">painter.model.toolModel.RectRound</a></li>
            
                <li><a href="../classes/painter.model.toolModel.RectRound.prototype.html">painter.model.toolModel.RectRound.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.RectRoundStroke.html">painter.model.toolModel.RectRoundStroke</a></li>
            
                <li><a href="../classes/painter.model.toolModel.RectRoundStroke.prototype.html">painter.model.toolModel.RectRoundStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.RectStroke.html">painter.model.toolModel.RectStroke</a></li>
            
                <li><a href="../classes/painter.model.toolModel.RectStroke.prototype.html">painter.model.toolModel.RectStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Shape.html">painter.model.toolModel.Shape</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Shape.prototype.html">painter.model.toolModel.Shape.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Stroke.html">painter.model.toolModel.Stroke</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Stroke.prototype.html">painter.model.toolModel.Stroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Text.html">painter.model.toolModel.Text</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Text.prototype.html">painter.model.toolModel.Text.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.TextStroke.html">painter.model.toolModel.TextStroke</a></li>
            
                <li><a href="../classes/painter.model.toolModel.TextStroke.prototype.html">painter.model.toolModel.TextStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Tool.html">painter.model.toolModel.Tool</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Tool.prototype.html">painter.model.toolModel.Tool.prototype</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/canvas.html">canvas</a></li>
            
                <li><a href="../modules/canvasContainerModel.html">canvasContainerModel</a></li>
            
                <li><a href="../modules/canvasModel.html">canvasModel</a></li>
            
                <li><a href="../modules/index.html">index</a></li>
            
                <li><a href="../modules/loading.html">loading</a></li>
            
                <li><a href="../modules/mouse.html">mouse</a></li>
            
                <li><a href="../modules/nav.html">nav</a></li>
            
                <li><a href="../modules/pointListModel.html">pointListModel</a></li>
            
                <li><a href="../modules/shapeModel.html">shapeModel</a></li>
            
                <li><a href="../modules/storageModel.html">storageModel</a></li>
            
                <li><a href="../modules/tool.html">tool</a></li>
            
                <li><a href="../modules/toolContainerModel.html">toolContainerModel</a></li>
            
                <li><a href="../modules/toolModel.html">toolModel</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: controler\tool.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
 * 工具模块
 * @author yan
 * @module tool
 * @namespace painter.controler
 */

(function($, global){
	&quot;use strict&quot;;
	
	var Tool;
	
	/**
	 * 工具类
	 * @class Tool
	 * @constructor
	 * @extends painter.controler.Tool.prototype
	 */
	Tool = function(){
	    /**
	     * 当前打开的工具属性面板
	     * @property currentOpenAttributePanel
	     * @type $object
	     * @default null
	     */
	    this.currentOpenAttributePanel = null;
	};
	
	/**
	 * 工具类原型
	 * @class Tool.prototype
	 * @static
	 */
	Tool.prototype = {
		/**
		 * 初始化
		 * @method init
		 */
		init:function(){
			//绑定事件
			this.bindEvent();
			
			this.initAttributePanel();
			this.initColor();
			
			//初始化当前默认工具
			global.painter.tool = global.painter.tool || {};
			global.painter.tool.currentToolContainer = Object.create(global.painter.model.ToolContainerModel);
			global.painter.tool.currentToolContainer.init(new global.painter.model.toolModel.Line());
		},
		
		/**
		 * 初始化工具属性面板
		 * @method initAttributePanel 
		 */
		initAttributePanel:function(){
		    var
		          $toolWrap = $(&quot;#tool-wrap&quot;),
		          $at = $(&quot;footer&quot;),
		          $attributePanels = $(&#x27;.tool-attribute-panel&#x27;, $toolWrap),
		          $defaultAttributePanel = $attributePanels.filter(&#x27;#tool-shape-attribute-panel&#x27;);  
		            
		    $attributePanels.dialog({position: {my: &quot;right bottom&quot;, at: &quot;right bottom&quot;, of: $at}, autoOpen: false});//初始化所有属性面板
		    
		    this.setCurrentAttributePanel($defaultAttributePanel);//设置所有面板
		    this.openAttributePanel($defaultAttributePanel);//打开当前面板
		},
		
		/**
		 * 初始化颜色工具
		 * @method initColor
		 */
		initColor:function(){
		    var   
		      $color = $(&quot;#tool-wrap .tool .color&quot;).eq(0);
            
	        $color.spectrum({
                color: &quot;#000&quot;,
                flat: false,
                showInput: true,
                showInitial: true,
                showAlpha: true,
                localStorageKey: &quot;spectrum&quot;,
                showSelectionPalette: true,
                clickoutFiresChange: true,
                className: &quot;spectrum-color&quot;,
                preferredFormat: &quot;rgb&quot;,
                showPalette: true,
                palette: [
                    [&#x27;black&#x27;, &#x27;white&#x27;, &#x27;blanchedalmond&#x27;,
                    &#x27;rgb(255, 128, 0);&#x27;, &#x27;hsv 100 70 50&#x27;],
                    [&#x27;red&#x27;, &#x27;yellow&#x27;, &#x27;green&#x27;, &#x27;blue&#x27;, &#x27;violet&#x27;]
                ]
            });   
		},
		
		/**
		 * 打开当前属性面板 
		 * @method openCurrentAttributePanel
		 * @param {$object} [$attributePanel=currentAttributePanel] 腰带开的面版对象
		 */
		openAttributePanel:function($attributePanel){
		    var 
                  $attributePanels = $(&#x27;.tool-attribute-panel&#x27;); 
		    $attributePanel = $attributePanel || this.getCurrentAttributePanel();
		    $attributePanels.dialog(&#x27;close&#x27;);
		    $attributePanel.dialog(&#x27;open&#x27;);
		},
		/**
		 * 获取当前工具属性面板对象
		 * @method getCurrentAttributePanel 
		 * @return $object 当前属性面板对象
		 */
		getCurrentAttributePanel:function(){
		    return this.currentOpenAttributePanel;
		},
		
		/**
		 *  设置当前工具属性面板对象
		 * @method setCurrentAttributePanel 
		 * @param {$object} $attributePanel 要设置的属性面板
		 * @return {Bollean} 是否设置成功
		 */
		setCurrentAttributePanel:function($attributePanel){
		    if($attributePanel !== undefined){
		        this.currentOpenAttributePanel = $attributePanel;
		        return true;
		    } 
		    
		    return false;
		},
		/**
		 * 绑定事件
		 * @event bindEvent
		 */
		bindEvent:function(){
			var 
			     $document = $(document),
			     $toolWrap = $(&#x27;#tool-wrap&#x27;),
			     that = this;
			     
			//绑定工具栏按钮点击事件，所有按钮的点击效果
			$document.delegate(&#x27;#tool-wrap .tool button&#x27;, &#x27;click&#x27;, function(){
			    var 
			         $this = $(this),
			         temp = $this.attr(&#x27;data-tool-panel&#x27;),
			         $toolPanel = $(&#x27;.tool-panel .&#x27; + temp, $toolWrap),//点击要显示面板
			         $currentToolPanel = $(&#x27;.tool-panel .wrap:visible&#x27;, $toolWrap),//当前可见工具面板
			         $currentToolAttributePanel = $(&#x27;#tool-&#x27; + temp + &#x27;-attribute-panel&#x27;),
			         currentTool = $this.attr(&#x27;data-current-tool&#x27;);//当前属性工具面板			         
			    
			    //为按钮添加点击效果     
			    $(&#x27;.tool button.active&#x27;, $toolWrap).removeClass(&#x27;active&#x27;);
			    $this.addClass(&#x27;active&#x27;);
			    
			    //操作工具面板
			    $currentToolPanel.hide();
			    $toolPanel.show();
			    
			    //操作属性面板
			    that.setCurrentAttributePanel($currentToolAttributePanel);//设置所有面板
                that.openAttributePanel($currentToolAttributePanel);//打开当前面板
                
                //新建工具类，更新当前工具类
                //初始化当前默认工具
                global.painter.tool.currentToolContainer.init(new global.painter.model.toolModel[currentTool]());
			});
			
			//工具面板按钮点击事件
			$document.delegate(&quot;#tool-wrap .tool-panel .wrap &gt; button&quot;, &#x27;click&#x27;, function(e){
			    var 
			         $this = $(this),
			         dataTool = $this.attr(&#x27;data-tool&#x27;),
			         dataToolClass = $this.attr(&#x27;data-tool-class&#x27;),
			         $tool = $(&quot;#tool-wrap .tool button[data-tool-panel=&#x27;&quot; + dataTool + &quot;&#x27;]&quot;);
			         
		         $tool.attr(&#x27;data-current-tool&#x27;, dataToolClass);//更新按钮点击事件
		         $tool.trigger(&#x27;click&#x27;);//触发点击事件
			});
			
			//绑定颜色更改事件
			$document.delegate(&quot;#tool-wrap .color&quot;, &quot;change&quot;, function(e){
			    var 
			         color = $(this).val(),
			         currentTool = global.painter.tool.currentToolContainer.getTool();
			         
			     currentTool.setOption({
			         fillStyle:color,
			         strokeStyle:color
			     });
			});
			
			//绑定属性面板属性更改事件
			$document.delegate(&#x27;.tool-attribute-panel input[type!=&quot;checkbox&quot;][type!=&quot;radio&quot;],.tool-attribute-panel select&#x27;, &quot;change&quot;, function(e){
			    var
			         $this = $(this),
			         attr = $this.attr(&#x27;data-attr&#x27;),
			         value = $this.val(),
			         currentTool = global.painter.tool.currentToolContainer.getTool(),
			         option = {},
			         $info = $this.next(&quot;span&quot;);
			    
			    //更新当前工具对象参数     
			    option[attr] = value;
			    currentTool.setOption(option);
			    
			    //更新提示
			    $info.html(value);
			});
			//绑定属性面板复选框属性更改事件
			$document.delegate(&#x27;.tool-attribute-panel :checkbox&#x27;, &quot;change&quot;, function(e){
                var
                     $this = $(this),
                     attr = $this.attr(&#x27;data-attr&#x27;),
                     value = $this.val(),
                     checked = $this.prop(&quot;checked&quot;),
                     currentTool = global.painter.tool.currentToolContainer.getTool(),
                     option = {};
                
                //更新当前工具对象参数     
                option[attr] = checked === true ? value : &quot;&quot;;//获取数据
                currentTool.setOption(option);
                
                window.console.log(checked);
                document.getA
            });
            //绑定属性面板单选框属性更改事件
            $document.delegate(&#x27;.tool-attribute-panel :radio&#x27;, &quot;change&quot;, function(e){
                var
                     $this = $(this),
                     attr = $this.attr(&#x27;data-attr&#x27;),
                     value = $this.val(),
                     currentTool = global.painter.tool.currentToolContainer.getTool(),
                     option = {};
                
                //更新当前工具对象参数     
                option[attr] = value;//获取数据
                currentTool.setOption(option);
            });
		}
	};
	
	$(document).ready(function(){
	    var tool = new Tool();
	    tool.init();
	});
}(jQuery, window));
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
