<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>model\shapeModel.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/painter.controler.Canvas.html">painter.controler.Canvas</a></li>
            
                <li><a href="../classes/painter.controler.Index.html">painter.controler.Index</a></li>
            
                <li><a href="../classes/painter.controler.Nav.html">painter.controler.Nav</a></li>
            
                <li><a href="../classes/painter.controler.Tool.html">painter.controler.Tool</a></li>
            
                <li><a href="../classes/painter.controler.Tool.prototype.html">painter.controler.Tool.prototype</a></li>
            
                <li><a href="../classes/painter.model.CanvasContainerModel.html">painter.model.CanvasContainerModel</a></li>
            
                <li><a href="../classes/painter.model.CanvasModel.html">painter.model.CanvasModel</a></li>
            
                <li><a href="../classes/painter.model.CanvasModel.prototype.html">painter.model.CanvasModel.prototype</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Cross.html">painter.model.mouseModel.Cross</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Cross.prototype.html">painter.model.mouseModel.Cross.prototype</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Eraser.html">painter.model.mouseModel.Eraser</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Eraser.prototype.html">painter.model.mouseModel.Eraser.prototype</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.EyeDropper.html">painter.model.mouseModel.EyeDropper</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.EyeDropper.prototype.html">painter.model.mouseModel.EyeDropper.prototype</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.FloodFill.html">painter.model.mouseModel.FloodFill</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.FloodFill.prototype.html">painter.model.mouseModel.FloodFill.prototype</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Mouse.html">painter.model.mouseModel.Mouse</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Mouse.prototype.html">painter.model.mouseModel.Mouse.prototype</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Pen.html">painter.model.mouseModel.Pen</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Pen.prototype.html">painter.model.mouseModel.Pen.prototype</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Text.html">painter.model.mouseModel.Text</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Text.prototype.html">painter.model.mouseModel.Text.prototype</a></li>
            
                <li><a href="../classes/painter.model.PointList.html">painter.model.PointList</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Circle.html">painter.model.shapeModel.Circle</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Circle.prototype.html">painter.model.shapeModel.Circle.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.CircleStroke.html">painter.model.shapeModel.CircleStroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.CircleStroke.prototype.html">painter.model.shapeModel.CircleStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Cross.html">painter.model.shapeModel.Cross</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Cross.prototype.html">painter.model.shapeModel.Cross.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.CurveClosed.html">painter.model.shapeModel.CurveClosed</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.CurveClosed.prototype.html">painter.model.shapeModel.CurveClosed.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.CurveClosedStroke.html">painter.model.shapeModel.CurveClosedStroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.CurveClosedStroke.prototype.html">painter.model.shapeModel.CurveClosedStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Ellipes.html">painter.model.shapeModel.Ellipes</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Ellipes.prototype.html">painter.model.shapeModel.Ellipes.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.EllipesStroke.html">painter.model.shapeModel.EllipesStroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.EllipesStroke.prototype.html">painter.model.shapeModel.EllipesStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Eraser.html">painter.model.shapeModel.Eraser</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Eraser.prototype.html">painter.model.shapeModel.Eraser.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.EyeDropper.html">painter.model.shapeModel.EyeDropper</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.EyeDropper.prototype.html">painter.model.shapeModel.EyeDropper.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.FillStroke.html">painter.model.shapeModel.FillStroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.FillStroke.prototype.html">painter.model.shapeModel.FillStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.FloodFill.html">painter.model.shapeModel.FloodFill</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.FloodFill.prototype.html">painter.model.shapeModel.FloodFill.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.ImageShape.html">painter.model.shapeModel.ImageShape</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.ImageShape.prototype.html">painter.model.shapeModel.ImageShape.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Line.html">painter.model.shapeModel.Line</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Line.prototype.html">painter.model.shapeModel.Line.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Pen.html">painter.model.shapeModel.Pen</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Pen.prototype.html">painter.model.shapeModel.Pen.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Rect.html">painter.model.shapeModel.Rect</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Rect.prototype.html">painter.model.shapeModel.Rect.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.RectRound.html">painter.model.shapeModel.RectRound</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.RectRound.prototype.html">painter.model.shapeModel.RectRound.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.RectRoundStroke.html">painter.model.shapeModel.RectRoundStroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.RectRoundStroke.prototype.html">painter.model.shapeModel.RectRoundStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.RectStroke.html">painter.model.shapeModel.RectStroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.RectStroke.prototype.html">painter.model.shapeModel.RectStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Shape.html">painter.model.shapeModel.Shape</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Shape.prototype.html">painter.model.shapeModel.Shape.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Stroke.html">painter.model.shapeModel.Stroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Stroke.prototype.html">painter.model.shapeModel.Stroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Text.html">painter.model.shapeModel.Text</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Text.prototype.html">painter.model.shapeModel.Text.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.TextStroke.html">painter.model.shapeModel.TextStroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.TextStroke.prototype.html">painter.model.shapeModel.TextStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.StorageModel.html">painter.model.StorageModel</a></li>
            
                <li><a href="../classes/painter.model.StorageModel.prototype.html">painter.model.StorageModel.prototype</a></li>
            
                <li><a href="../classes/painter.model.ToolContainerModel.html">painter.model.ToolContainerModel</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Circle.html">painter.model.toolModel.Circle</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Circle.prototype.html">painter.model.toolModel.Circle.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.CircleStroke.html">painter.model.toolModel.CircleStroke</a></li>
            
                <li><a href="../classes/painter.model.toolModel.CircleStroke.prototype.html">painter.model.toolModel.CircleStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Cross.html">painter.model.toolModel.Cross</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Cross.prototype.html">painter.model.toolModel.Cross.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.CurveClosed.html">painter.model.toolModel.CurveClosed</a></li>
            
                <li><a href="../classes/painter.model.toolModel.CurveClosed.prototype.html">painter.model.toolModel.CurveClosed.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.CurveClosedStroke.html">painter.model.toolModel.CurveClosedStroke</a></li>
            
                <li><a href="../classes/painter.model.toolModel.CurveClosedStroke.prototype.html">painter.model.toolModel.CurveClosedStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Ellipes.html">painter.model.toolModel.Ellipes</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Ellipes.prototype.html">painter.model.toolModel.Ellipes.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.EllipesStroke.html">painter.model.toolModel.EllipesStroke</a></li>
            
                <li><a href="../classes/painter.model.toolModel.EllipesStroke.prototype.html">painter.model.toolModel.EllipesStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Eraser.html">painter.model.toolModel.Eraser</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Eraser.prototype.html">painter.model.toolModel.Eraser.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.EyeDropper.html">painter.model.toolModel.EyeDropper</a></li>
            
                <li><a href="../classes/painter.model.toolModel.FloodFill.html">painter.model.toolModel.FloodFill</a></li>
            
                <li><a href="../classes/painter.model.toolModel.FloodFill.prototype.html">painter.model.toolModel.FloodFill.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Line.html">painter.model.toolModel.Line</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Line.prototype.html">painter.model.toolModel.Line.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Pen.html">painter.model.toolModel.Pen</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Pen.prototype.html">painter.model.toolModel.Pen.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Rect.html">painter.model.toolModel.Rect</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Rect.prototype.html">painter.model.toolModel.Rect.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.RectRound.html">painter.model.toolModel.RectRound</a></li>
            
                <li><a href="../classes/painter.model.toolModel.RectRound.prototype.html">painter.model.toolModel.RectRound.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.RectRoundStroke.html">painter.model.toolModel.RectRoundStroke</a></li>
            
                <li><a href="../classes/painter.model.toolModel.RectRoundStroke.prototype.html">painter.model.toolModel.RectRoundStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.RectStroke.html">painter.model.toolModel.RectStroke</a></li>
            
                <li><a href="../classes/painter.model.toolModel.RectStroke.prototype.html">painter.model.toolModel.RectStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Shape.html">painter.model.toolModel.Shape</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Shape.prototype.html">painter.model.toolModel.Shape.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Stroke.html">painter.model.toolModel.Stroke</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Stroke.prototype.html">painter.model.toolModel.Stroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Text.html">painter.model.toolModel.Text</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Text.prototype.html">painter.model.toolModel.Text.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.TextStroke.html">painter.model.toolModel.TextStroke</a></li>
            
                <li><a href="../classes/painter.model.toolModel.TextStroke.prototype.html">painter.model.toolModel.TextStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Tool.html">painter.model.toolModel.Tool</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Tool.prototype.html">painter.model.toolModel.Tool.prototype</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/canvas.html">canvas</a></li>
            
                <li><a href="../modules/canvasContainerModel.html">canvasContainerModel</a></li>
            
                <li><a href="../modules/canvasModel.html">canvasModel</a></li>
            
                <li><a href="../modules/index.html">index</a></li>
            
                <li><a href="../modules/loading.html">loading</a></li>
            
                <li><a href="../modules/mouse.html">mouse</a></li>
            
                <li><a href="../modules/nav.html">nav</a></li>
            
                <li><a href="../modules/pointListModel.html">pointListModel</a></li>
            
                <li><a href="../modules/shapeModel.html">shapeModel</a></li>
            
                <li><a href="../modules/storageModel.html">storageModel</a></li>
            
                <li><a href="../modules/tool.html">tool</a></li>
            
                <li><a href="../modules/toolContainerModel.html">toolContainerModel</a></li>
            
                <li><a href="../modules/toolModel.html">toolModel</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: model\shapeModel.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
 * @author yan
 * @module shapeModel
 * @namespace painter.model.shapeModel
 */

(function($, global){
    &quot;use strict&quot;;
    var
        //图形类所有图形的超级父类
        Shape = null,
        //填充+轮廓类图形父类
        FillStroke,
        Line = null,
        CurveClosed,
        Rect = null,
        RectRound = null,
        Circle = null,
        //椭圆类
        Ellipes,
        //轮廓类工具超级父类
        Stroke,
        Pen = null,
        CurveClosedStroke,
        RectStroke = null,
        RectRoundStroke = null,
        CircleStroke = null,
        Eraser,
        FloodFill,
        EyeDropper,
        //十字类
        Cross,
        
        //椭圆类
        EllipesStroke,
        //文字类
        Text,
        //文本轮廓类
        TextStroke,
        
        //图像
        ImageShape;
        
        
    /**
     * Shape 构造函数
     * @class Shape
     * @constructor
     * @extends painter.model.shapeModel.Shape.prototype
     */
	Shape = function(){
	    /**
	     * 名称
	     * @property name
	     * @type String
	     * @default Shape 
	     */
	    this.name = &#x27;Shape&#x27;;
	    
	    /**
	     * 图形参数
	     * @property option
	     * @type Object
	     * @default {} 
	     */
	    this.option = {};
	};
	
	/**
	 * Shape 原型
	 * @class Shape.prototype
	 * @static
	 */	
	Shape.prototype = {	   
	    /**
	     * 初始化对象
	     * @method init
	     * @param {Object} option 参数
	     */ 
	     init:function(option){
	         this.initOption(option);
	     },
        /**
         * 获取名称
         * @method getName
         * @return {String} 当前对象的名称 
         */
        getName:function(){
            return this.name;
        },
        
        /**
         * 初始化当前参数为传递参数
         * @method initOption
         * @param {Object} option 参数
         */
        initOption:function(option){
			this.option = {};//初始化为空
            this.setOption(option);
        },
        /**
         * 设置工具参数对象
         * @method setOption
         * @param {Object} option 设置的参数集和
         * @return {Bollean} 是否设置成功
         */
        setOption:function(option){
            $.extend(true, this.option, option);
            
            return this.option;
        },
        
        /**
         * 获取工具参数对象
         * @method getOption 
         * @return {Object} 返回当前工具参数对象
         */       
        getOption:function(){
            return this.option;
        },
        
        /**
         * 重绘图形方法
         * @method repaint
         * @param {Object} context 要绘制到的上下文
         */
         repaint:function(context){
            this.paint(context);
         },
         
         /**
         * 设置填充轮廓类图形的属性
         * @method setAttributes
         * @param {Object} context 设置的上下文
         */
        setAttributes:function(context){
            //nothing
        }
	};
	
	/**
	 * 填充轮廓类图形超级父类
	 * @class FillStroke
	 * @constructor
	 * @extends painter.model.shapeModel.FillStroke.prototype
	 */
	FillStroke = function(){
	    /**
         * 名称
         * @property name
         * @type String
         * @default FillStroke
         */
	    this.name = &quot;FillStroke&quot;;
	    
	    /**
	     * 设置填充轮廓类图形的属性
	     * @method setAttributes
	     * @param {Object} context 设置的上下文
	     */
	    this.setAttributes = function(context){
	        var 
               option = this.getOption();
               
           //设置直线属性
            context.strokeStyle = option.strokeStyle;
            context.fillStyle = option.fillStyle;
            context.lineWidth = option.lineWidth;
            context.globalAlpha = option.opacity / 100;
            context.lineJoin = option.lineJoin;
            context.lineCap = option.lineCap;
            context.shadowOffsetX = option.shadowOffsetX;
            context.shadowOffsetY = option.shadowOffsetY;
            context.shadowBlur = option.shadowBlur;
            context.shadowColor = option.shadowColor;
	    }
	};
	
	/**
     * 填充轮廓类图形超级父类原型
     * @class FillStroke.prototype
     * @static
     * @extends painter.model.shapeModel.Shape
     */
	FillStroke.prototype = new Shape();
	
	/**
	 * 直线对象
	 * @class Line
	 * @constructor
	 * @extends painter.model.shapeModel.Line.protorype 
	 */
	Line = function(){
	    /**
         * 名称
         * @property name
         * @type String
         * @default Line
         */
	    this.name = &#x27;Line&#x27;;
	    
	    /**
	     * 绘制图形
	     * @method paint
	     * @param {Object} context 绘图上下文 
	     */
	    this.paint = function(context){
	        var 
	           option = this.getOption();
	        
	        context.save();//保存上下文信
	        
	        //设置直线属性
            this.setAttributes(context);
	        
	        
	        //描述直线
	        context.beginPath();
            context.moveTo(option.startX, option.startY);
            context.lineTo(option.endX, option.endY);
                                   
            //绘制直线
            context.closePath();
            context.stroke();
            context.restore();//回复上下文
	    };
	};
	
	/**
	 * 直线对象原型
	 * @class Line.prototype
	 * @static
	 * @extends painter.model.shapeModel.FillStroke
	 */
	Line.prototype = new FillStroke();
	
	/**
     * 闭合曲线对象
     * @class CurveClosed
     * @constructor
     * @extends painter.model.shapeModel.CurveClosed.prototype 
     */
    CurveClosed = function(){
       /**
         * 名称
         * @property name
         * @type String
         * @default CurveClosed
         */
        this.name = &#x27;CurveClosed&#x27;;
        
        /**
         * 绘制矩形图形
         * @method paint
         * @param {Object} context 绘图上下文 
         */
        this.paint = function(context){
            var 
               option = this.getOption(),
               list = option.list,
               start = list[0],
               len = list.length,
               i = 0;
            
            context.save();//保存上下文信息            
            
            //设置属性
            this.setAttributes(context);           
            
            //绘制
            context.beginPath();
            
            context.moveTo(start.x, start.y);
            for(i; i&lt;len; i=i+1){
               context.lineTo(list[i].x, list[i].y); 
            }
            context.closePath();
            context.fill();
            context.stroke();
            context.restore();//回复上下文
        };
    };
    
    /**
     * 闭合曲线对象原型
     * @class CurveClosed.prototype
     * @static 
     * @extends painter.model.shapeModel.FillStroke
     */
    CurveClosed.prototype = new FillStroke();
    
	/**
	 * 矩形对象
	 * @class Rect
	 * @constructor
	 * @extends painter.model.shapeModel.Rect.prototype 
	 */
	Rect = function(){
	   /**
         * 名称
         * @property name
         * @type String
         * @default Rect
         */
        this.name = &#x27;Rect&#x27;;
        
        /**
         * 绘制矩形图形
         * @method paint
         * @param {Object} context 绘图上下文 
         */
        this.paint = function(context){
            var 
               option = this.getOption();
            
            context.save();//保存上下文信息            
            
            //设置属性
            this.setAttributes(context);           
            
            //绘制
            context.fillRect(option.left, option.top, option.width, option.height);
            context.strokeRect(option.left, option.top, option.width, option.height);
            context.restore();//回复上下文
        };
	};
	
	/**
     * 矩形对象原型
     * @class Rect.prototype
     * @static 
     * @extends painter.model.shapeModel.FillStroke
     */
    Rect.prototype = new FillStroke();
    
    /**
     * 圆角矩形对象
     * @class RectRound
     * @constructor
     * @extends painter.model.shapeModel.RectRound.prototype 
     */
    RectRound = function(){
       /**
         * 名称
         * @property name
         * @type String
         * @default RectRound
         */
        this.name = &#x27;RectRound&#x27;;
    };
    
    /**
     * 矩形对象原型
     * @class RectRound.prototype
     * @static 
     * @extends painter.model.shapeModel.Rect
     */
    RectRound.prototype = new Rect();
    
    /**
     * 椭圆对象
     * @class Circle
     * @constructor
     * @extends painter.model.shapeModel.Circle.prototype 
     */
    Circle = function(){
       /**
         * 名称
         * @property name
         * @type String
         * @default Circle
         */
        this.name = &#x27;Circle&#x27;;
        
        /**
         * 绘制矩形图形
         * @method paint
         * @param {Object} context 绘图上下文 
         */
        this.paint = function(context){
            var 
               option = this.getOption();
            
            context.save();//保存上下文信息            
            
            //设置属性
            this.setAttributes(context);           
            
            //绘制
            context.beginPath();
            context.arc(option.x, option.y, option.radius, 0, Math.PI * 2, true);
            context.closePath();
            context.fill();
            context.stroke();
            context.restore();//回复上下文
        };
    };
    
    /**
     * 圆形对象原型
     * @class Circle.prototype
     * @static 
     * @extends painter.model.shapeModel.FillStroke
     */
    Circle.prototype = new FillStroke();
    
    //绘制椭圆方法
    function EllipesDraw(context, x, y, width, height){
       var k = (width/0.75)/2,
           w = width/2,
           h = height/2;
       context.beginPath();
       context.moveTo(x, y-h);
       context.bezierCurveTo(x+k, y-h, x+k, y+h, x, y+h);
       context.bezierCurveTo(x-k, y+h, x-k, y-h, x, y-h);
       context.closePath();
       return context;
    }
    
    /**
     * 椭圆类对象
     * @class Ellipes
     * @constructor
     * @extends painter.model.shapeModel.Ellipes.prototype 
     */
    Ellipes = function(){
       /**
         * 名称
         * @property name
         * @type String
         * @default Ellipes
         */
        this.name = &#x27;Ellipes&#x27;;
        
        /**
         * 绘制矩形图形
         * @method paint
         * @param {Object} context 绘图上下文 
         */
        this.paint = function(context){
           var 
               option = this.getOption(),
               x = option.x,
               y = option.y,
               width = option.width,
               height = option.height;
            
            context.save();//保存上下文信息            
            
            //设置属性
            this.setAttributes(context); 
            
            //描述图形
            EllipesDraw(context, x, y, width, height);        
            
            //绘制  
            context.fill();
            context.stroke();          
            context.restore();//回复上下文
        };   
    };
        
    /**
     * 椭圆类原型
     * @class Ellipes.prototype
     * @static 
     * @extends painter.model.shapeModel.FillStroke
     */
    Ellipes.prototype = new FillStroke();
    
    /**
     * 轮廓类图形超级父类
     * @class Stroke
     * @constructor
     * @extends painter.model.shapeModel.Stroke.prototype
     */
    Stroke = function(){
        /**
         * 名称
         * @property name
         * @type String
         * @default Stroke
         */
        this.name = &quot;Stroke&quot;;
        
        /**
         * 设置填充轮廓类图形的属性
         * @method setAttributes
         * @param {Object} context 设置的上下文
         */
        this.setAttributes = function(context){
            var 
               option = this.getOption();
               
           //设置直线属性
            context.strokeStyle = option.strokeStyle;
            context.lineWidth = option.lineWidth;
            context.globalAlpha = option.opacity / 100;
            context.lineJoin = option.lineJoin;
            context.lineCap = option.lineCap;
            context.shadowOffsetX = option.shadowOffsetX;
            context.shadowOffsetY = option.shadowOffsetY;
            context.shadowBlur = option.shadowBlur;
            context.shadowColor = option.shadowColor;
        }
    };
    /**
     * 轮廓类图形超级父类原型
     * @class Stroke.prototype
     * @static
     * @extends painter.model.shapeModel.Shape
     */
    Stroke.prototype = new Shape();
    
    /**
     * 铅笔对象
     * @class Pen
     * @constructor
     * @extends painter.model.shapeModel.Pen.prototype 
     */
    Pen = function(){
       /**
         * 名称
         * @property name
         * @type String
         * @default Pen
         */
        this.name = &#x27;Pen&#x27;;
        
        /**
         * 绘制矩形图形
         * @method paint
         * @param {Object} context 绘图上下文 
         */
        this.paint = function(context){
            var 
               option = this.getOption(),
               list = option.list,
               start = list[0],
               len = list.length,
               i = 0;
            
            context.save();//保存上下文信息            
            
            //设置属性
            this.setAttributes(context);           
            
            //绘制
            context.beginPath();
            
            context.moveTo(start.x, start.y);
            for(i; i&lt;len; i=i+1){
               context.lineTo(list[i].x, list[i].y); 
            }
            context.stroke();
            context.restore();//回复上下文
        };
    };
    
    /**
     * 铅笔对象原型
     * @class Pen.prototype
     * @static 
     * @extends painter.model.shapeModel.Stroke
     */
    Pen.prototype = new Stroke();
    
    /**
     * 铅笔对象
     * @class CurveClosedStroke
     * @constructor
     * @extends painter.model.shapeModel.CurveClosedStroke.prototype 
     */
    CurveClosedStroke = function(){
       /**
         * 名称
         * @property name
         * @type String
         * @default &quot;CurveClosedStroke&quot;
         */
        this.name = &#x27;CurveClosedStroke&#x27;;
        
        /**
         * 绘制矩形图形
         * @method paint
         * @param {Object} context 绘图上下文 
         */
        this.paint = function(context){
            var 
               option = this.getOption(),
               list = option.list,
               start = list[0],
               len = list.length,
               i = 0;
            
            context.save();//保存上下文信息            
            
            //设置属性
            this.setAttributes(context);            
            
            //绘制
            context.beginPath();
            
            context.moveTo(start.x, start.y);
            for(i; i&lt;len; i=i+1){
               context.lineTo(list[i].x, list[i].y); 
            }
            context.closePath();
            context.stroke();
            context.restore();//回复上下文
        };
    };
    
    /**
     * 铅笔对象原型
     * @class CurveClosedStroke.prototype
     * @static 
     * @extends painter.model.shapeModel.Stroke
     */
    CurveClosedStroke.prototype = new Stroke();    
    
    /**
     * 矩形对象
     * @class RectStroke
     * @constructor
     * @extends painter.model.shapeModel.RectStroke.prototype 
     */
    RectStroke = function(){
       /**
         * 名称
         * @property name
         * @type String
         * @default &#x27;RectStroke&#x27;
         */
        this.name = &#x27;RectStroke&#x27;;
        
        /**
         * 绘制矩形图形
         * @method paint
         * @param {Object} context 绘图上下文 
         */
        this.paint = function(context){
            var 
               option = this.getOption();
            
            context.save();//保存上下文信息            
            
            //设置属性
            this.setAttributes(context);           
            
            //绘制
            context.strokeRect(option.left, option.top, option.width, option.height);
            context.restore();//回复上下文
        };
    };
    
    /**
     * 矩形对象原型
     * @class RectStroke.prototype
     * @static 
     * @extends painter.model.shapeModel.Stroke
     */
    RectStroke.prototype = new Stroke();
    
    /**
     * 圆角矩形对象
     * @class RectRoundStroke
     * @constructor
     * @extends painter.model.shapeModel.RectRoundStroke.prototype 
     */
    RectRoundStroke = function(){
       /**
         * 名称
         * @property name
         * @type String
         * @default &#x27;RectRoundStroke&#x27;
         */
        this.name = &#x27;RectRoundStroke&#x27;;
    };
    
    /**
     * 矩形对象原型
     * @class RectRoundStroke.prototype
     * @static 
     * @extends painter.model.shapeModel.RectStroke
     */
    RectRoundStroke.prototype = new RectStroke();
    
    /**
     * 椭圆对象
     * @class CircleStroke
     * @constructor
     * @extends painter.model.shapeModel.CircleStroke.prototype 
     */
    CircleStroke = function(){
       /**
         * 名称
         * @property name
         * @type String
         * @default &#x27;CircleStroke&#x27;
         */
        this.name = &#x27;CircleStroke&#x27;;
        
        /**
         * 绘制矩形图形
         * @method paint
         * @param {Object} context 绘图上下文 
         */
        this.paint = function(context){
            var 
               option = this.getOption();
            
            context.save();//保存上下文信息            
            
            //设置属性
            this.setAttributes(context);            
            
            //绘制
            context.beginPath();
            context.arc(option.x, option.y, option.radius, 0, Math.PI * 2, true);
            context.closePath();
            context.stroke();
            context.restore();//回复上下文
        };
    };
    
    /**
     * 圆形对象原型
     * @class CircleStroke.prototype
     * @static 
     * @extends painter.model.shapeModel.Stroke
     */
    CircleStroke.prototype = new Stroke();
    
    /**
     * 椭圆类对象
     * @class EllipesStroke
     * @constructor
     * @extends painter.model.shapeModel.EllipesStroke.prototype 
     */
    EllipesStroke = function(){
       /**
         * 名称
         * @property name
         * @type String
         * @default &#x27;EllipesStroke&#x27;
         */
        this.name = &#x27;EllipesStroke&#x27;;
        
        /**
         * 绘制矩形图形
         * @method paint
         * @param {Object} context 绘图上下文 
         */
        this.paint = function(context){
           var 
               option = this.getOption(),
               x = option.x,
               y = option.y,
               width = option.width,
               height = option.height;
            
            context.save();//保存上下文信息            
            
            //设置属性
            this.setAttributes(context); 
            
            //描述图形
            EllipesDraw(context, x, y, width, height);       
            
            //绘制  
            context.stroke();          
            context.restore();//回复上下文
        };   
    };
        
    /**
     * 椭圆类原型
     * @class EllipesStroke.prototype
     * @static 
     * @extends painter.model.shapeModel.Stroke
     */
    EllipesStroke.prototype = new Stroke();
    
    /**
     * 橡皮类对象
     * @class Eraser
     * @constructor
     * @extends painter.model.shapeModel.Eraser.prototype 
     */
    Eraser = function(){
       /**
         * 名称
         * @property name
         * @type String
         * @default &#x27;Eraser&#x27;
         */
        this.name = &#x27;Eraser&#x27;;
        
        /**
         * 绘制矩形图形
         * @method paint
         * @param {Object} context 绘图上下文 
         */
        this.paint = function(context){
            var 
               option = this.getOption(),
               list = option.list,
               start = list[0],
               len = list.length,
               i = 0;
            
            context.save();//保存上下文信息            
            
            //设置属性
            context.strokeStyle = option.color;
            context.lineWidth = option.lineWidth;
            context.shadowOffsetX = option.shadowOffsetX;
            context.shadowOffsetY = option.shadowOffsetY;
            context.shadowBlur = option.shadowBlur;
            context.shadowColor = option.shadowColor;
            context.lineJoin = option.lineJoin;
            context.lineCap = option.lineCap;
            context.globalAlpha = option.opacity / 100;          
            
            //绘制
            context.beginPath();
            
            context.moveTo(start.x, start.y);
            for(i; i&lt;len; i=i+1){
               context.lineTo(list[i].x, list[i].y); 
            }
            context.stroke();
            context.restore();//回复上下文
        };
    };
    
    /**
     * 橡皮类原型
     * @class Eraser.prototype
     * @static 
     * @extends painter.model.shapeModel.Shape
     */
    Eraser.prototype = new Shape();
    
    /**
     * 油漆桶对象
     * @class FloodFill
     * @constructor
     * @extends painter.model.shapeModel.FloodFill.prototype 
     */
    FloodFill = function(){
       /**
         * 名称
         * @property name
         * @type String
         * @default &#x27;FloodFill&#x27;
         */
        this.name = &#x27;FloodFill&#x27;;        
        
        /**
         * 绘制矩形图形
         * @method paint
         * @param {Object} context 绘图上下文 
         */
        this.paint = function(context){
            var 
               option = this.getOption(),
               width = option.width,
               height = option.height;
            
            context.save();//保存上下文信息            
            
            //设置属性
            context.fillStyle = option.fillStyle;
            context.globalAlpha = option.opacity / 100;          
            
            //绘制
            context.fillRect(0,0,width,height);
            context.restore();//回复上下文
        };
    };
    
    /**
     * 油漆桶对象原型
     * @class FloodFill.prototype
     * @static 
     * @extends painter.model.shapeModel.Shape
     */
    FloodFill.prototype = new Shape();
    
    /**
     * 吸管对象
     * @class EyeDropper
     * @constructor
     * @extends painter.model.shapeModel.EyeDropper.prototype 
     */
    EyeDropper = function(){
       /**
         * 名称
         * @property name
         * @type String
         * @default &#x27;EyeDropper&#x27;
         */
        this.name = &#x27;EyeDropper&#x27;;
        
        /**
         * 绘制矩形图形
         * @method paint
         * @param {Object} context 绘图上下文 
         */
        this.paint = function(context){
            var 
               option = this.getOption(),
               $color = $(&#x27;#tool-wrap .tool .color&#x27;).eq(0),
               datas = context.getImageData(option.x, option.y, 1,1).data,
               r = datas[0],
               g = datas[1],
               b = datas[2],
               a = datas[3] / 255,
               color = &quot;rgba(&quot;.concat(r, &quot;,&quot;, g, &quot;,&quot;, b, &quot;,&quot;, a, &quot;)&quot;);
               
            $color.spectrum(&quot;set&quot;, color);
        };  
        this.repaint = function(){
            //do nothing
        } 
    };
    
    /**
     * 吸管对象原型
     * @class EyeDropper.prototype
     * @static 
     * @extends painter.model.shapeModel.Shape
     */
    EyeDropper.prototype = new Shape();
    
    /**
     * 十字类对象
     * @class Cross
     * @constructor
     * @extends painter.model.shapeModel.Cross.prototype 
     */
    Cross = function(){
       /**
         * 名称
         * @property name
         * @type String
         * @default &#x27;Cross&#x27;
         */
        this.name = &#x27;Cross&#x27;;
        
        /**
         * 绘制矩形图形
         * @method paint
         * @param {Object} context 绘图上下文 
         */
        this.paint = function(context){
           var 
               option = this.getOption(),
               x = option.x,
               y = option.y,
               len = option.length,
               line1StartX = x - len,
               line1StartY = y,
               line1EndX = x + len,
               line1EndY = y,
               line2StartX = x,
               line2StartY = y - len,
               line2EndX = x,
               line2EndY = y + len;
            
            context.save();//保存上下文信息            
            
            //设置属性
            context.strokeStyle = option.strokeStyle;
            context.lineWidth = option.lineWidth;
            context.shadowOffsetX = option.shadowOffsetX;
            context.shadowOffsetY = option.shadowOffsetY;
            context.shadowBlur = option.shadowBlur;
            context.shadowColor = option.shadowColor;
            context.lineJoin = option.lineJoin;
            context.lineCap = option.lineCap;
            context.globalAlpha = option.opacity / 100; 
            
            //描述图形
            context.beginPath();
            context.moveTo(line1StartX, line1StartY); 
            context.lineTo(line1EndX, line1EndY);
            context.moveTo(line2StartX, line2StartY); 
            context.lineTo(line2EndX, line2EndY);
            context.closePath();        
            
            //绘制  
            context.stroke();          
            context.restore();//回复上下文
        };   
    };
    
    /**
     * 十字类原型
     * @class Cross.prototype
     * @static 
     * @extends painter.model.shapeModel.Shape
     */
    Cross.prototype = new Shape();                
    
    /**
     * 文本类对象
     * @class Text
     * @constructor
     * @extends painter.model.shapeModel.Text.prototype 
     */
    Text = function(){
       /**
         * 名称
         * @property name
         * @type String
         * @default &#x27;Text&#x27;
         */
        this.name = &#x27;Text&#x27;;
        
        /**
         * 设置填充轮廓类图形的属性
         * @method setAttributes
         * @param {Object} context 设置的上下文
         */
        this.setAttributes = function(context){
            var 
               option = this.getOption();
               
           //设置直线属性
            context.shadowOffsetX = option.shadowOffsetX;
            context.shadowOffsetY = option.shadowOffsetY;
            context.shadowBlur = option.shadowBlur;
            context.shadowColor = option.shadowColor;
            context.strokeStyle = option.strokeStyle;
            context.fillStyle = option.fillStyle;
            context.globalAlpha = option.opacity / 100;
            context.font = option.italic + &quot; &quot; + option.bold + &quot; &quot; + option.size + &quot;px &quot; + option.family;
            context.lineWidth = option.border;
            context.textAlign = option.textAlign;
        };
        
        /**
         * 绘制矩形图形
         * @method paint
         * @param {Object} context 绘图上下文 
         */
        this.paint = function(context){
           var 
               option = this.getOption(),
               x = option.x,
               y = option.y,
               text = option.text;
            
            context.save();//保存上下文信息            
            
            //设置属性
            this.setAttributes(context);  
            
            //绘制图形
            context.fillText(text, x, y);       
            context.strokeText(text, x, y);          
            context.restore();//回复上下文
        };   
    };
        
    /**
     * 文本类原型
     * @class Text.prototype
     * @static 
     * @extends painter.model.shapeModel.Shape
     */
    Text.prototype = new Shape();
    
    /**
     * 文本轮廓类对象
     * @class TextStroke
     * @constructor
     * @extends painter.model.shapeModel.TextStroke.prototype 
     */
    TextStroke = function(){
       /**
         * 名称
         * @property name
         * @type String
         * @default &#x27;TextStroke&#x27;
         */
        this.name = &#x27;TextStroke&#x27;;
        
        /**
         * 绘制矩形图形
         * @method paint
         * @param {Object} context 绘图上下文 
         */
        this.paint = function(context){
           var 
               option = this.getOption(),
               x = option.x,
               y = option.y,
               text = option.text;
            
            context.save();//保存上下文信息            
            
            //设置属性
            this.setAttributes(context); 
            
            //绘制图形      
            context.strokeText(text, x, y);          
            context.restore();//回复上下文
        };   
    };
        
    /**
     * 文本轮廓类原型
     * @class TextStroke.prototype
     * @static 
     * @extends painter.model.shapeModel.Text
     */
    TextStroke.prototype = new Text();
    
    /**
     * 图像类对象
     * @class ImageShape
     * @constructor
     * @extends painter.model.shapeModel.ImageShape.prototype 
     */
    ImageShape = function(){
       /**
         * 名称
         * @property &#x27;ImageShape&#x27;
         * @type String
         * @default Shape
         */
        this.name = &#x27;ImageShape&#x27;;        
        
        /**
         * 绘制矩形图形
         * @method paint
         * @param {Object} context 绘图上下文 
         */
        this.paint = function(context){
           var 
               option = this.getOption(),
               x = option.x,
               y = option.y,
               src = option.src,
               width = option.width,
               height = option.height,
               image = new Image(),
               that = this;
            
            image.src = src;
            
            image.onload = function(){
                context.save();//保存上下文信息            
            
                //设置属性
                that.setAttributes(context); 
                
                //绘制图形      
                context.drawImage(image, x, y, width, height);          
                context.restore();//回复上下文
            };            
        };   
    };
        
    /**
     * 图像类原型
     * @class ImageShape.prototype
     * @static 
     * @extends painter.model.shapeModel.Shape
     */
    ImageShape.prototype = new Shape();
	
	//添加变量
	global.painter = global.painter || {};
	global.painter.model = global.painter.model || {};
	global.painter.model.shapeModel = global.painter.model.shapeModel || {};
	global.painter.model.shapeModel.Line = Line;
	global.painter.model.shapeModel.CurveClosed = CurveClosed;
	global.painter.model.shapeModel.Rect = Rect;
	global.painter.model.shapeModel.RectRound = RectRound;
	global.painter.model.shapeModel.Circle = Circle;
	global.painter.model.shapeModel.Pen = Pen;
	global.painter.model.shapeModel.CurveClosedStroke = CurveClosedStroke;
	global.painter.model.shapeModel.RectStroke = RectStroke;
    global.painter.model.shapeModel.RectRoundStroke = RectRoundStroke;
    global.painter.model.shapeModel.CircleStroke = CircleStroke;
	global.painter.model.shapeModel.Eraser = Eraser;
	global.painter.model.shapeModel.FloodFill = FloodFill;
	global.painter.model.shapeModel.EyeDropper = EyeDropper;
	global.painter.model.shapeModel.Cross = Cross;
	global.painter.model.shapeModel.Ellipes = Ellipes;
	global.painter.model.shapeModel.EllipesStroke = EllipesStroke;
	global.painter.model.shapeModel.Text = Text;
	global.painter.model.shapeModel.TextStroke = TextStroke;
	global.painter.model.shapeModel.ImageShape = ImageShape;
}(jQuery, window));
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
