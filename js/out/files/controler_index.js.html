<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>controler\index.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/painter.controler.Canvas.html">painter.controler.Canvas</a></li>
            
                <li><a href="../classes/painter.controler.Index.html">painter.controler.Index</a></li>
            
                <li><a href="../classes/painter.controler.Nav.html">painter.controler.Nav</a></li>
            
                <li><a href="../classes/painter.controler.Tool.html">painter.controler.Tool</a></li>
            
                <li><a href="../classes/painter.controler.Tool.prototype.html">painter.controler.Tool.prototype</a></li>
            
                <li><a href="../classes/painter.model.CanvasContainerModel.html">painter.model.CanvasContainerModel</a></li>
            
                <li><a href="../classes/painter.model.CanvasModel.html">painter.model.CanvasModel</a></li>
            
                <li><a href="../classes/painter.model.CanvasModel.prototype.html">painter.model.CanvasModel.prototype</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Cross.html">painter.model.mouseModel.Cross</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Cross.prototype.html">painter.model.mouseModel.Cross.prototype</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Eraser.html">painter.model.mouseModel.Eraser</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Eraser.prototype.html">painter.model.mouseModel.Eraser.prototype</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.EyeDropper.html">painter.model.mouseModel.EyeDropper</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.EyeDropper.prototype.html">painter.model.mouseModel.EyeDropper.prototype</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.FloodFill.html">painter.model.mouseModel.FloodFill</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.FloodFill.prototype.html">painter.model.mouseModel.FloodFill.prototype</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Mouse.html">painter.model.mouseModel.Mouse</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Mouse.prototype.html">painter.model.mouseModel.Mouse.prototype</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Pen.html">painter.model.mouseModel.Pen</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Pen.prototype.html">painter.model.mouseModel.Pen.prototype</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Text.html">painter.model.mouseModel.Text</a></li>
            
                <li><a href="../classes/painter.model.mouseModel.Text.prototype.html">painter.model.mouseModel.Text.prototype</a></li>
            
                <li><a href="../classes/painter.model.PointList.html">painter.model.PointList</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Circle.html">painter.model.shapeModel.Circle</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Circle.prototype.html">painter.model.shapeModel.Circle.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.CircleStroke.html">painter.model.shapeModel.CircleStroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.CircleStroke.prototype.html">painter.model.shapeModel.CircleStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Cross.html">painter.model.shapeModel.Cross</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Cross.prototype.html">painter.model.shapeModel.Cross.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.CurveClosed.html">painter.model.shapeModel.CurveClosed</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.CurveClosed.prototype.html">painter.model.shapeModel.CurveClosed.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.CurveClosedStroke.html">painter.model.shapeModel.CurveClosedStroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.CurveClosedStroke.prototype.html">painter.model.shapeModel.CurveClosedStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Ellipes.html">painter.model.shapeModel.Ellipes</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Ellipes.prototype.html">painter.model.shapeModel.Ellipes.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.EllipesStroke.html">painter.model.shapeModel.EllipesStroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.EllipesStroke.prototype.html">painter.model.shapeModel.EllipesStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Eraser.html">painter.model.shapeModel.Eraser</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Eraser.prototype.html">painter.model.shapeModel.Eraser.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.EyeDropper.html">painter.model.shapeModel.EyeDropper</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.EyeDropper.prototype.html">painter.model.shapeModel.EyeDropper.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.FillStroke.html">painter.model.shapeModel.FillStroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.FillStroke.prototype.html">painter.model.shapeModel.FillStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.FloodFill.html">painter.model.shapeModel.FloodFill</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.FloodFill.prototype.html">painter.model.shapeModel.FloodFill.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.ImageShape.html">painter.model.shapeModel.ImageShape</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.ImageShape.prototype.html">painter.model.shapeModel.ImageShape.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Line.html">painter.model.shapeModel.Line</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Line.prototype.html">painter.model.shapeModel.Line.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Pen.html">painter.model.shapeModel.Pen</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Pen.prototype.html">painter.model.shapeModel.Pen.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Rect.html">painter.model.shapeModel.Rect</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Rect.prototype.html">painter.model.shapeModel.Rect.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.RectRound.html">painter.model.shapeModel.RectRound</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.RectRound.prototype.html">painter.model.shapeModel.RectRound.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.RectRoundStroke.html">painter.model.shapeModel.RectRoundStroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.RectRoundStroke.prototype.html">painter.model.shapeModel.RectRoundStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.RectStroke.html">painter.model.shapeModel.RectStroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.RectStroke.prototype.html">painter.model.shapeModel.RectStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Shape.html">painter.model.shapeModel.Shape</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Shape.prototype.html">painter.model.shapeModel.Shape.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Stroke.html">painter.model.shapeModel.Stroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Stroke.prototype.html">painter.model.shapeModel.Stroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Text.html">painter.model.shapeModel.Text</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.Text.prototype.html">painter.model.shapeModel.Text.prototype</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.TextStroke.html">painter.model.shapeModel.TextStroke</a></li>
            
                <li><a href="../classes/painter.model.shapeModel.TextStroke.prototype.html">painter.model.shapeModel.TextStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.StorageModel.html">painter.model.StorageModel</a></li>
            
                <li><a href="../classes/painter.model.StorageModel.prototype.html">painter.model.StorageModel.prototype</a></li>
            
                <li><a href="../classes/painter.model.ToolContainerModel.html">painter.model.ToolContainerModel</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Circle.html">painter.model.toolModel.Circle</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Circle.prototype.html">painter.model.toolModel.Circle.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.CircleStroke.html">painter.model.toolModel.CircleStroke</a></li>
            
                <li><a href="../classes/painter.model.toolModel.CircleStroke.prototype.html">painter.model.toolModel.CircleStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Cross.html">painter.model.toolModel.Cross</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Cross.prototype.html">painter.model.toolModel.Cross.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.CurveClosed.html">painter.model.toolModel.CurveClosed</a></li>
            
                <li><a href="../classes/painter.model.toolModel.CurveClosed.prototype.html">painter.model.toolModel.CurveClosed.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.CurveClosedStroke.html">painter.model.toolModel.CurveClosedStroke</a></li>
            
                <li><a href="../classes/painter.model.toolModel.CurveClosedStroke.prototype.html">painter.model.toolModel.CurveClosedStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Ellipes.html">painter.model.toolModel.Ellipes</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Ellipes.prototype.html">painter.model.toolModel.Ellipes.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.EllipesStroke.html">painter.model.toolModel.EllipesStroke</a></li>
            
                <li><a href="../classes/painter.model.toolModel.EllipesStroke.prototype.html">painter.model.toolModel.EllipesStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Eraser.html">painter.model.toolModel.Eraser</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Eraser.prototype.html">painter.model.toolModel.Eraser.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.EyeDropper.html">painter.model.toolModel.EyeDropper</a></li>
            
                <li><a href="../classes/painter.model.toolModel.FloodFill.html">painter.model.toolModel.FloodFill</a></li>
            
                <li><a href="../classes/painter.model.toolModel.FloodFill.prototype.html">painter.model.toolModel.FloodFill.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Line.html">painter.model.toolModel.Line</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Line.prototype.html">painter.model.toolModel.Line.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Pen.html">painter.model.toolModel.Pen</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Pen.prototype.html">painter.model.toolModel.Pen.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Rect.html">painter.model.toolModel.Rect</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Rect.prototype.html">painter.model.toolModel.Rect.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.RectRound.html">painter.model.toolModel.RectRound</a></li>
            
                <li><a href="../classes/painter.model.toolModel.RectRound.prototype.html">painter.model.toolModel.RectRound.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.RectRoundStroke.html">painter.model.toolModel.RectRoundStroke</a></li>
            
                <li><a href="../classes/painter.model.toolModel.RectRoundStroke.prototype.html">painter.model.toolModel.RectRoundStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.RectStroke.html">painter.model.toolModel.RectStroke</a></li>
            
                <li><a href="../classes/painter.model.toolModel.RectStroke.prototype.html">painter.model.toolModel.RectStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Shape.html">painter.model.toolModel.Shape</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Shape.prototype.html">painter.model.toolModel.Shape.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Stroke.html">painter.model.toolModel.Stroke</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Stroke.prototype.html">painter.model.toolModel.Stroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Text.html">painter.model.toolModel.Text</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Text.prototype.html">painter.model.toolModel.Text.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.TextStroke.html">painter.model.toolModel.TextStroke</a></li>
            
                <li><a href="../classes/painter.model.toolModel.TextStroke.prototype.html">painter.model.toolModel.TextStroke.prototype</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Tool.html">painter.model.toolModel.Tool</a></li>
            
                <li><a href="../classes/painter.model.toolModel.Tool.prototype.html">painter.model.toolModel.Tool.prototype</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/canvas.html">canvas</a></li>
            
                <li><a href="../modules/canvasContainerModel.html">canvasContainerModel</a></li>
            
                <li><a href="../modules/canvasModel.html">canvasModel</a></li>
            
                <li><a href="../modules/index.html">index</a></li>
            
                <li><a href="../modules/loading.html">loading</a></li>
            
                <li><a href="../modules/mouse.html">mouse</a></li>
            
                <li><a href="../modules/nav.html">nav</a></li>
            
                <li><a href="../modules/pointListModel.html">pointListModel</a></li>
            
                <li><a href="../modules/shapeModel.html">shapeModel</a></li>
            
                <li><a href="../modules/storageModel.html">storageModel</a></li>
            
                <li><a href="../modules/tool.html">tool</a></li>
            
                <li><a href="../modules/toolContainerModel.html">toolContainerModel</a></li>
            
                <li><a href="../modules/toolModel.html">toolModel</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: controler\index.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
 * 主页js
 * @module index
 * @namespace painter.controler
 */
(function($, global){
    &quot;use strict&quot;;
    
    /**
     * 主页
     * @class Index
     * @static 
     */
    var Index = {
        /**
         * 初始化
         * @method init 
         */  
         init:function(){
             this.bindEvent();
         },
         
         /**
          * 帮顶事件
          * @event bindEvent
          */
         bindEvent:function(){
             var
                $document = $(document),
                fileResult = null,
                imageResult = null;
             
             //帮顶关闭事件
             $(window).bind(&quot;beforeunload&quot;, function(e){
                 return &quot;图片尚未导出，您确定离开吗？&quot;;
             });
             $(window).unload(function(e){
                 $(&quot;#nav-file-save&quot;).trigger(&#x27;click&#x27;);//触发撤销按钮事件
             });
             //绑定撤销键盘事件ctrl+z   
             $document.bind(&quot;keydown&quot;, function(e){
                if(e.ctrlKey &amp;&amp; e.keyCode === 90){
                    //撤销事件
                    $(&quot;#nav-edit-undo&quot;).trigger(&#x27;click&#x27;);//触发撤销按钮事件
                    e.preventDefault();//阻止默认事件
                }         
             });
             //帮顶保存键盘事件ctrl+s
             $document.bind(&quot;keydown&quot;, function(e){
                if(e.ctrlKey &amp;&amp; e.keyCode === 83){
                    //撤销事件
                    $(&quot;#nav-file-save&quot;).trigger(&#x27;click&#x27;);//触发撤销按钮事件
                    e.preventDefault();//阻止默认事件
                }         
             });
             
             //帮顶清楚事件
             $document.bind(&quot;keydown&quot;, function(e){
                if(e.ctrlKey &amp;&amp; e.keyCode === 68){
                    //撤销事件
                    $(&quot;#nav-edit-clear&quot;).trigger(&#x27;click&#x27;);//触发撤销按钮事件
                    e.preventDefault();//阻止默认事件
                }         
             });
             
             //帮顶导出事件
             $document.bind(&quot;keydown&quot;, function(e){
                if(e.ctrlKey &amp;&amp; e.keyCode === 69){
                    //撤销事件
                    $(&quot;#nav-file-export&quot;).trigger(&#x27;click&#x27;);//触发撤销按钮事件
                    e.preventDefault();//阻止默认事件
                }         
             }); 
             //帮顶倒置事件
             $document.bind(&quot;keydown&quot;, function(e){
                if(e.ctrlKey &amp;&amp; e.keyCode === 82){
                    //撤销事件
                    $(&quot;#nav-edit-convert&quot;).trigger(&#x27;click&#x27;);//触发撤销按钮事件
                    e.preventDefault();//阻止默认事件
                }         
             });
             
             //帮顶水平翻转快捷键事件
             $document.bind(&quot;keydown&quot;, function(e){
                if(e.ctrlKey &amp;&amp; e.keyCode === 72){
                    //撤销事件
                    $(&quot;#nav-edit-flipx&quot;).trigger(&#x27;click&#x27;);//触发撤销按钮事件
                    e.preventDefault();//阻止默认事件
                }         
             });
             //帮顶垂直翻转反转事件
             $document.bind(&quot;keydown&quot;, function(e){
                if(e.ctrlKey &amp;&amp; e.keyCode === 86){
                    //撤销事件
                    $(&quot;#nav-edit-flipy&quot;).trigger(&#x27;click&#x27;);//触发撤销按钮事件
                    e.preventDefault();//阻止默认事件
                }         
             });
             
             //绑定窗口大小改变事件
             $(global).bind(&quot;resize&quot;, function(e){
                 var 
                    canvas = global.painter.canvas,
                    currentCanvas = canvas.currentCanvasContainer.getCanvas(),
                    bufferCanvas = canvas.bufferCanvasContainer.getCanvas(),
                    mouseCanvas = canvas.mouseCanvasContainer.getCanvas(),
                    negativeCanvas = global.painter.canvas.negativeCanvasContainer.getCanvas();
                 //更新各个画布   
                 currentCanvas.updateSize();
                 bufferCanvas.updateSize();
                 mouseCanvas.updateSize();
                 negativeCanvas.updateSize();
             });
             
             //=================================================
             //帮顶导入底片模态框事件
             
             //文件输入框改变事件
             $document.delegate(&quot;#negative-modal-file&quot;, &quot;change&quot;, function(e){
                 var
                    files = e.target.files,
                    reader = new FileReader();
                 
                 reader.readAsDataURL(files[0]);
                 
                 reader.onload = function(){
                     var
                     
                         $negativeModal = $(&quot;#negative-modal&quot;),
                         $view = $(&quot;#negative-modal-view&quot;, $negativeModal);
                     fileResult = reader.result;
                     $view.attr(&quot;src&quot;, reader.result);
                     
                     $view.bind(&quot;load&quot;, function(){
                         var
                         
                             $negativeModal = $(&quot;#negative-modal&quot;),
                             $width = $(&quot;#negative-modal-width&quot;, $negativeModal),
                             $height = $(&quot;#negative-modal-height&quot;, $negativeModal);
                         $width.val($(this).width());
                         $height.val($(this).height());
                     });                     
                 }; 
             });
             
             //确定事件
             $document.delegate(&quot;#negative-modal-ok&quot;, &quot;click&quot;, function(e){
                 var
                    negativeCanvas = global.painter.canvas.negativeCanvasContainer.getCanvas(),
                    image = new global.painter.model.shapeModel.ImageShape(),
                    $negativeModal = $(&quot;#negative-modal&quot;),
                    x = $(&quot;#negative-modal-x&quot;, $negativeModal).val(),
                    y = $(&quot;#negative-modal-y&quot;, $negativeModal).val(),
                    width = $(&quot;#negative-modal-width&quot;, $negativeModal).val(),
                    height = $(&quot;#negative-modal-height&quot;, $negativeModal).val();                 
                 
                 image.init({
                     x:x,
                     y:y,
                     width:width,
                     height:height,
                     src: fileResult
                 });
                 
                 negativeCanvas.paint(image);  
             });
             
              //=================================================
             //帮顶导入图片模态框事件
             
             //文件输入框改变事件
             $document.delegate(&quot;#image-modal-file&quot;, &quot;change&quot;, function(e){
                 var
                    files = e.target.files,
                    reader = new FileReader();
                 
                 reader.readAsDataURL(files[0]);
                 
                 reader.onload = function(){
                     var
                     
                         $imageModal = $(&quot;#image-modal&quot;),
                         $view = $(&quot;#image-modal-view&quot;, $imageModal);
                     imageResult = reader.result;
                     $view.attr(&quot;src&quot;, reader.result);
                     
                     $view.bind(&quot;load&quot;, function(){
                         var
                         
                             $imageModal = $(&quot;#image-modal&quot;),
                             $width = $(&quot;#image-modal-width&quot;, $imageModal),
                             $height = $(&quot;#image-modal-height&quot;, $imageModal);
                         $width.val($(this).width());
                         $height.val($(this).height());
                     });                     
                 };                
             });
             
             //确定事件
             $document.delegate(&quot;#image-modal-ok&quot;, &quot;click&quot;, function(e){
                 var
                    currentCanvas = global.painter.canvas.currentCanvasContainer.getCanvas(),
                    image = new global.painter.model.shapeModel.ImageShape(),
                    $imageModal = $(&quot;#image-modal&quot;),
                    x = $(&quot;#image-modal-x&quot;, $imageModal).val(),
                    y = $(&quot;#image-modal-y&quot;, $imageModal).val(),
                    width = $(&quot;#image-modal-width&quot;, $imageModal).val(),
                    height = $(&quot;#image-modal-height&quot;, $imageModal).val();                 
                 
                 image.init({
                     x:x,
                     y:y,
                     width:width,
                     height:height,
                     src: imageResult
                 });
                 
                 currentCanvas.paint(image);                   
             });
         }
    };
    
    $(document).ready(function(){
        Index.init();
    });
}(jQuery, window));

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
